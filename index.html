<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pok√©mon</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>

<body>

  <!-- Tela 1: Game Freak Logo -->
  <div id="gamefreak-screen" class="intro-screen">
    <div class="game-container">
      <img src="./Assets/img/pokeintro.gif" alt="Game Freak Intro">
    </div>
    <audio id="gamefreak-music" src="./Assets/aud/Gf.mp3"></audio>
  </div>

  <!-- Tela 2: Gengar vs Nidoking Battle -->
  <div id="battle-screen" class="intro-screen" style="display:none;">
    <div class="game-container">
      <img src="./Assets/img/pokeintrobattle.gif" alt="Gengar vs Nidoking Battle">
    </div>
    <audio id="battle-music" src="./Assets/aud/introbattle.mp3"></audio>
  </div>

  <!-- Tela 3: Menu Principal -->
  <div id="menu-screen">
    <div class="game-container">
      <img src="./Assets/img/Pokemenu.png" alt="Menu Principal" class="menu-image">
      <div id="start-btn">Press Start</div>
    </div>
    <audio id="menu-music" src="./Assets/aud/titlescreen.mp3" loop></audio>
  </div>

  <script>
    const gamefreakScreen = document.getElementById('gamefreak-screen');
    const battleScreen = document.getElementById('battle-screen');
    const menuScreen = document.getElementById('menu-screen');

    const gamefreakMusic = document.getElementById('gamefreak-music');
    const battleMusic = document.getElementById('battle-music');
    const menuMusic = document.getElementById('menu-music');

    const startBtn = document.getElementById('start-btn');

    const GAMEFREAK_DURATION = 4000;
    const BATTLE_DURATION = 13000;

    function playAudio(audioElement) {
      audioElement.currentTime = 0;
      audioElement.play().catch(() => { });
    }

    function playSequence() {
      gamefreakScreen.style.display = 'flex';
      playAudio(gamefreakMusic);

      setTimeout(() => {
        gamefreakScreen.style.display = 'none';
        gamefreakMusic.pause();

        battleScreen.style.display = 'flex';
        playAudio(battleMusic);

        setTimeout(() => {
          battleScreen.style.display = 'none';
          battleMusic.pause();

          menuScreen.style.display = 'flex';
          playAudio(menuMusic);
        }, BATTLE_DURATION);

      }, GAMEFREAK_DURATION);
    }

    document.addEventListener('click', function initSequenceOnce() {
      playSequence();
      document.removeEventListener('click', initSequenceOnce);
    });

    startBtn.addEventListener('click', () => {
      menuMusic.pause();
      window.location.href = './pokedex/pokedex.html';
    });
  </script>

</body>

</html>